var tape=require("tape"),protobuf=require(".."),root=protobuf.Root.fromJSON({nested:{Message:{fields:{val:{type:"uint32",id:536870911}}}}});tape.test("long tags",function(e){var o=root.lookup("Message"),a={val:1},t=o.encode(a).finish();e.equal(t[0],248,"should write F8 (78)"),e.equal(t[1],255,"should write FF (7F)"),e.equal(t[2],255,"should write FF (7F)"),e.equal(t[3],255,"should write FF (7F)"),e.equal(t[4],15,"should write 1111b"),e.equal(t[5],1,"should write value 1");var u=o.decode(t);e.deepEqual(u,a,"should decode back the original data"),e.end()});