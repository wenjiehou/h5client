var tape=require("tape"),protobuf=require(".."),proto='syntax = "proto3";import "google/protobuf/descriptor.proto";message MyOptions {  string a = 1;  string b = 2;}extend google.protobuf.FieldOptions {  MyOptions my_options = 50000;}message Test {  string value = 1 [(my_options) = { a: "foo" b: "bar" }];  string value2 = 2 [(my_options) = { a: "foo" b { c: "bar" } }];}';tape.test("options in textformat",function(o){var t=protobuf.parse(proto).root.lookup("Test");o.same(t.fields.value.options,{"(my_options).a":"foo","(my_options).b":"bar"},"should parse correctly"),o.same(t.fields.value2.options,{"(my_options).a":"foo","(my_options).b.c":"bar"},"should parse correctly when nested"),o.end()});