function traverse(e){e.nestedArray.forEach(function(e){e instanceof protobuf.Type&&e.setup(),e instanceof protobuf.Namespace&&traverse(e)})}var tape=require("tape"),protobuf=require("..");tape.test("jspb test proto",function(e){var t=new protobuf.Root;protobuf.load("tests/data/test.proto",t,function(o,r){if(o)return e.fail(o.message);e.pass("should parse without errors"),e.equal(r,t,"should reuse existing root"),e.doesNotThrow(function(){r.resolveAll(),traverse(r)},"should resolve all types and generate code for them without errors"),e.end()})});