var tape=require("tape"),protobuf=require("..");tape.test("proto comments",function(e){e.plan(9),protobuf.load("tests/data/comments.proto",function(o,l){if(o)throw e.fail(o.message);e.equal(l.lookup("Test1").comment,"Message\nwith\na\ncomment.","should parse /**-blocks"),e.equal(l.lookup("Test2").comment,null,"should not parse //-blocks"),e.equal(l.lookup("Test3").comment,null,"should not parse /*-blocks"),e.equal(l.lookup("Test1.field1").comment,"Field with a comment.","should parse blocks for message fields"),e.equal(l.lookup("Test1.field2").comment,null,"should not parse lines for message fields"),e.equal(l.lookup("Test1.field3").comment,'Field with a comment and a <a href="http://example.com/foo/">link</a>',"should parse triple-slash lines for message fields"),e.equal(l.lookup("Test3").comments.ONE,"Value with a comment.","should parse blocks for enum values"),e.equal(l.lookup("Test3").comments.TWO,null,"should not parse lines for enum values"),e.equal(l.lookup("Test3").comments.THREE,"Value with a comment.","should parse triple-slash lines for enum values"),e.end()})});