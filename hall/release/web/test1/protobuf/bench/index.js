"use strict";var newSuite=require("./suite"),payload=require("./data/bench.json"),Buffer_from=Buffer.from!==Uint8Array.from&&Buffer.from||function(s,e){return new Buffer(s,e)},pbjsCls=require("..").loadSync(require.resolve("./data/bench.proto")).resolveAll().lookup("Test"),pbjsMsg=payload,pbjsBuf=pbjsCls.encode(pbjsMsg).finish(),pbjsStaticCls=require("./data/static_pbjs.js").Test,jsonMsg=payload,jsonStr=JSON.stringify(jsonMsg),jsonBuf=Buffer_from(jsonStr,"utf8"),jspbCls=require("./data/static_jspb.js").Test,jspbBuf=new Uint8Array(Array.prototype.slice.call(pbjsBuf)),jspbMsg=jspbCls.deserializeBinary(jspbBuf);newSuite("encoding").add("protobuf.js (reflect)",function(){pbjsCls.encode(pbjsMsg).finish()}).add("protobuf.js (static)",function(){pbjsStaticCls.encode(pbjsMsg).finish()}).add("JSON (string)",function(){JSON.stringify(jsonMsg)}).add("JSON (buffer)",function(){Buffer_from(JSON.stringify(jsonMsg),"utf8")}).add("google-protobuf",function(){jspbMsg.serializeBinary()}).run(),newSuite("decoding").add("protobuf.js (reflect)",function(){pbjsCls.decode(pbjsBuf)}).add("protobuf.js (static)",function(){pbjsStaticCls.decode(pbjsBuf)}).add("JSON (string)",function(){JSON.parse(jsonStr)}).add("JSON (buffer)",function(){JSON.parse(jsonBuf.toString("utf8"))}).add("google-protobuf",function(){jspbCls.deserializeBinary(jspbBuf)}).run(),newSuite("combined").add("protobuf.js (reflect)",function(){pbjsCls.decode(pbjsCls.encode(pbjsMsg).finish())}).add("protobuf.js (static)",function(){pbjsStaticCls.decode(pbjsStaticCls.encode(pbjsMsg).finish())}).add("JSON (string)",function(){JSON.parse(JSON.stringify(jsonMsg))}).add("JSON (buffer)",function(){JSON.parse(Buffer_from(JSON.stringify(jsonMsg),"utf8").toString("utf8"))}).add("google-protobuf",function(){jspbCls.deserializeBinary(jspbMsg.serializeBinary())}).run();